# Fitness Tracker Mutations

# Create a new user
mutation CreateUser(
  $email: String!,
  $displayName: String!,
  $clientType: String,
  $age: Int,
  $gender: String,
  $height: Int,
  $weight: Int
) @auth(level: USER) {
  user_insert(data: {
    id_expr: "auth.uid",
    email: $email,
    displayName: $displayName,
    clientType: $clientType,
    age: $age,
    gender: $gender,
    height: $height,
    weight: $weight
  })
}

# Upsert user data (for Google sign-in or updates)
mutation UpsertUser(
  $email: String!,
  $displayName: String!,
  $photoURL: String,
  $clientType: String,
  $age: Int,
  $gender: String,
  $height: Int,
  $weight: Int
) @auth(level: USER) {
  user_upsert(data: {
    id_expr: "auth.uid",
    email: $email,
    displayName: $displayName,
    photoURL: $photoURL,
    clientType: $clientType,
    age: $age,
    gender: $gender,
    height: $height,
    weight: $weight
  })
}
